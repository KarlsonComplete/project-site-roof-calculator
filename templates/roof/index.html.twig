{% extends 'base.html.twig' %}

{% block title %}Hello RoofController!{% endblock %}

{% block body %}
    <div class="container">
        <div class="main-content">
            <div class="calculator">
                <div class="params styled">
                    <div class="switcher">
                        <div class="select_menu">
                            <div class="row">
                                <label class="header" for="primer">Форма крыши</label>
                                <select class="col-12" id="primer" onChange="MaterialChange()">
                                    <option value="roof1">Односкатная</option>
                                    <option value="roof2">Двускатная</option>
                                    <option value="roof3">Шатровая</option>
                                    <option value="roof4">Вальмовая</option>
                                    <option value="roof5">Полувальмовая</option>
                                    <option value="roof6">Мансардная</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    {#{% dump(coatings) %}#}
                    {#{{ dump(coatings) }}#}
                    {#{{ dump(materials) }}#}

                    <div class="row types-select">
                        <div class="col">

                            {% if coatings is not null %}
                                <label class="select" for="coating">Вид материала</label>
                                <select class="col-5 coating" name="coating" id="coating">

                                    {% for coating in coatings %}
                                        <option value="{{ coating.id }}">{{ coating }}</option>
                                    {% endfor %}
                                </select>
                            {% endif %}
                        </div>

                        <div name=selectDataMaterial">

                            <label class="select" for="material_type">Тип Материала</label>
                            <select class="col-5 material_type" name="material_type" id="material_type">

                                <option>Выберите материал</option>

                             {% if materials is not null %}
                                 {% dump(materials) %}
                                    {% for material in materials %}
                                        {% dump(material) %}
                                        {%  dump(material.id) %}
                                        {%  dump(material.title) %}#}
                                        <option value={{ material.id }}>{{ material.title }}</option>
                                    {% endfor %}
                             {% endif %}

                            </select>

                        </div>
                        <script>

                            $("#coating").change(function(){
                                var id_coating = $(this).val();
                                var token = $("input[name='_token']").val();
                                console.log(id_coating);

                                $.ajax({
                                    url: "roof",
                                    method: 'POST',
                                    data: {id_coating:id_coating},
                                    success: function(data) {
                                        console.log(data.options);
                                        $("#material_type").html('');
                                        $("#material_type").html(data.options);
                                    }
                                });
                            });
                        </script>

                        <div name="selectDataTypeCoating">

                            <label for="select">Тип выбранного материала</label>
                            <select size="1" name="select_material">

                                <option value="1"></option>

                            </select>

                        </div>
                    </div>


                    <div class="main">
                        <div id="roof1" style="display: none">
                            <div class="row">
                                <label>
                                    <span class="label">L,м</span><br>
                                    <input class="col-12" name="pole1" type="text" id="val_p1" value="0">
                                </label>
                            </div>
                            <div class="row">
                                <label>
                                    <span class="label">H,м</span><br>
                                    <input class="col-12" name="pole2" type="text" id="val_p2" value="0">
                                </label>
                            </div>
                            <div class="row">
                                <label>
                                    <p class="aligncenter">
                                        <img src="/images/od.jpg" alt="">
                                    </p>
                                </label>
                            </div>
                        </div>

                        <div id="roof2" style="display: none">
                            <div class="row">
                                <label>
                                    <span class="label">L,м</span><br>
                                    <input class="col-12" type="text" id="val_p1" value="0">
                                </label>
                            </div>
                            <div class="row">
                                <label>
                                    <span class="label">H1,м</span><br>
                                    <input class="col-12" type="text" id="val_p2" value="0">
                                </label>
                            </div>
                            <div class="row">
                                <label>
                                    <span class="label">H2,м</span><br>
                                    <input class="col-12" type="text" id="val_p3" value="0">
                                </label>
                            </div>
                            <div class="row">
                                <label>
                                    <p class="aligncenter">
                                        <img src="/images/dv.jpg" alt="">
                                    </p>
                                </label>
                            </div>
                        </div>

                        <div id="roof3" style="display: none">
                            <div class="row">
                                <label>
                                    <span class="label">A1,м</span><br>
                                    <input class="col-12" type="text" id="val_p1" value="0">
                                </label>
                            </div>
                            <div class="row">
                                <label>
                                    <span class="label">A2,м</span><br>
                                    <input class="col-12" type="text" id="val_p2" value="0">
                                </label>
                            </div>
                            <div class="row">
                                <label>
                                    <span class="label">C,м</span><br>
                                    <input class="col-12" type="text" id="val_p3" value="0">
                                </label>
                            </div>
                            <div class="row">
                                <label>
                                    <p class="aligncenter">
                                        <img src="/images/shtr.jpg" alt="">
                                    </p>
                                </label>
                            </div>
                        </div>

                        <div id="roof4" style="display: none">
                            <div class="row">
                                <label>
                                    <span class="label">L,м</span><br>
                                    <input class="col-12" type="text" id="val_p1" value="0">
                                </label>
                            </div>
                            <div class="row">
                                <label>
                                    <span class="label">C,м</span><br>
                                    <input class="col-12" type="text" id="val_p2" value="0">
                                </label>
                            </div>
                            <div class="row">
                                <label>
                                    <span class="label">A1,м</span><br>
                                    <input class="col-12" type="text" id="val_p3" value="0">
                                </label>
                            </div>
                            <div class="row">
                                <label>
                                    <span class="label">A2,м</span><br>
                                    <input class="col-12" type="text" id="val_p4" value="0">
                                </label>
                            </div>
                            <div class="row">
                                <label>
                                    <p class="aligncenter">
                                        <img src="/images/forsk.jpg" alt="">
                                    </p>
                                </label>
                            </div>
                        </div>

                        <div id="roof5" style="display: none">
                            <div class="row">
                                <label>
                                    <span class="label">L,м</span><br>
                                    <input class="col-12" type="text" id="val_p1" value="0">
                                </label>
                            </div>
                            <div class="row">
                                <label>
                                    <span class="label">H1,м</span><br>
                                    <input class="col-12" type="text" id="val_p2" value="0">
                                </label>
                            </div>
                            <div class="row">
                                <label>
                                    <span class="label">H2,м</span><br>
                                    <input class="col-12" type="text" id="val_p3" value="0">
                                </label>
                            </div>
                            <div class="row">
                                <label>
                                    <span class="label">H3,м</span><br>
                                    <input class="col-12" type="text" id="val_p4" value="0">
                                </label>
                            </div>
                            <div class="row">
                                <label>
                                    <span class="label">H4,м</span><br>
                                    <input class="col-12" type="text" id="val_p5" value="0">
                                </label>
                            </div>
                            <div class="row">
                                <label>
                                    <p class="aligncenter">
                                        <img src="/images/plv.jpg" alt="">
                                    </p>
                                </label>
                            </div>
                        </div>

                        <div id="roof6" style="display: none">
                            <div class="row">
                                <label>
                                    <span class="label">L,м</span><br>
                                    <input class="col-12" type="text" id="val_p1" value="0">
                                </label>
                            </div>
                            <div class="row">
                                <label>
                                    <span class="label">C,м</span><br>
                                    <input class="col-12" type="text" id="val_p2" value="0">
                                </label>
                            </div>
                            <div class="row">
                                <label>
                                    <span class="label">H1,м</span><br>
                                    <input class="col-12" type="text" id="val_p3" value="0">
                                </label>
                            </div>
                            <div class="row">
                                <label>
                                    <span class="label">H2,м</span><br>
                                    <input class="col-12" type="text" id="val_p4" value="0">
                                </label>
                            </div>
                            <div class="row">
                                <label>
                                    <span class="label">A1,м</span><br>
                                    <input class="col-12" type="text" id="val_p5" value="0">
                                </label>
                            </div>
                            <div class="row">
                                <label>
                                    <span class="label">A2,м</span><br>
                                    <input class="col-12" type="text" id="val_p6" value="0">
                                </label>
                            </div>
                            <div class="row">
                                <label>
                                    <p class="aligncenter">
                                        <img src="/images/mnsdr.jpg" alt="">
                                    </p>
                                </label>
                            </div>
                        </div>

                        <div id="address">

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
